using System;
using System.Windows.Forms;
using System.Drawing;



class FunWithTheMouse: Form
{
    PictureBox pictureBoxOne;
    Label labelOne;
    Point spotClicked;

    public FunWithTheMouse()
    {
        this.Size = new Size(640,480);
        pictureBoxOne = new PictureBox();
        pictureBoxOne.Image = (Image)new Bitmap(@"../../images/Dog.bmp");
        pictureBoxOne.SizeMode = PictureBoxSizeMode.Normal;
        pictureBoxOne.Dock = DockStyle.Fill;
        this.Controls.Add(pictureBoxOne);

        labelOne = new Label();
        labelOne.BackColor = Color.Wheat;
        labelOne.Dock = DockStyle.Bottom;
        labelOne.Text = 
        "При нажатой левой кнопке мыши можно рисовать прямоугольники"+
        "Нажатая правая кнопка изменяет яркость прмоугольника"+
        "Нажав SHIFT и перемещая мышь рисуем желтые кружки ";
        labelOne.TextAlign = ContentAligment.MiddleCenter;
        this.Controls.Add(labelOne);

        this.pictureBoxOne.MouseDown += new MouseEventHandler(MouseButtonIsDown);
        this.pictureBoxOne.MouseUp += new MouseEventHandler(MouseButtonIsUp);
        this.pictureBoxOne.MouseMove += new MouseEventHandler(MouseMoved);

    }

    public void MouseMoved(object sender, MouseEventArgs e)
    {
        if((Control.ModifierKeys & Keys.Shift)==Keys.Shift)
        {
            System.Drawing.Graphics g = this.pictureBoxOne.CreateGraphics();
            System.Drawing.Pen yellowPen = new System.Drawing.Pen(Color.Yellow, 3);

            g.DrawEllipse(yellowPen,e.X,e.Y,40,40);
            g.Dispose();
        }
    }
    public void MouseButtonIsDown(object sender, MouseEventArgs e)
    {
        spotClicked.X = e.X;
        spotClicked.Y = e.Y;
    }
}
